(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(26)},20:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(12),i=a.n(s),o=(a(20),a(6)),l=a.n(o),c=a(8),u=a(1),m=a(2),d=a(5),h=a(3),p=a(4),v=a(10),f=a.n(v);function b(e){var t;if(document.cookie&&""!==document.cookie){var a=document.cookie.split(";"),n=!0,r=!1,s=void 0;try{for(var i,o=a[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value.trim();if(l.substring(0,e.length+1)===e+"="){t=decodeURIComponent(l.substring(e.length+1));break}}}catch(c){r=!0,s=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}}return t}var g=function(){function e(){Object(u.a)(this,e),this.start=Date.now(),this.end=null,this.time=0}return Object(m.a)(e,[{key:"stop",value:function(){return this.end=Date.now(),this.time+=this.end-this.start,this.time/1e3}},{key:"resume",value:function(){this.start=Date.now()}}]),e}();g.propTypes={onScroll:f.a.func,onSubmit:f.a.func,onChange:f.a.func,answer:f.a.string,word_limit:f.a.number};var y=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer bg-white text-dark text-center mt-auto"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4 py-3"},r.a.createElement("a",{href:"https://digitalhumanities.mit.edu/"},r.a.createElement("img",{src:"/static/dh_logo.png",className:"footer-img",alt:"Digital Humanities at MIT Logo"}))),r.a.createElement("div",{className:"col-4 py-3"},r.a.createElement("a",{href:"https://www.mit.edu/"},r.a.createElement("img",{src:"/static/mit_logo.svg",className:"footer-img",alt:"MIT Logo"}))),r.a.createElement("div",{className:"col-4 py-3"},r.a.createElement("a",{href:"https://www.mellon.org/"},r.a.createElement("img",{src:"/static/mellon_logo.svg",className:"footer-img",alt:"Mellon Foundation Logo"}))))))}}]),t}(r.a.Component),E=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loading-spinner"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}}]),t}(r.a.Component);a(24);function w(e){return r.a.createElement("nav",{className:"navbar fixed-bottom"},r.a.createElement("button",{className:"btn btn-primary btn-lg btn-block",onClick:e.onClick},"Continue"))}function _(e){return r.a.createElement("div",{className:"question"},r.a.createElement("div",{className:"question-prompt"},e.question),r.a.createElement(w,{onClick:e.onClick}))}function k(e){return r.a.createElement("div",{className:"story"},r.a.createElement("div",{className:"story-box",onScroll:e.onScroll},r.a.createElement("div",{className:"story-text"},e.story_text)),r.a.createElement(w,{onClick:e.onClick}))}function j(e){return r.a.createElement("div",{className:"context"},r.a.createElement("div",{className:"context-text"},e.context),r.a.createElement(w,{onClick:e.onClick}))}function O(e){return r.a.createElement("div",{className:"response"},r.a.createElement("form",{onSubmit:e.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control"},e.question),r.a.createElement("input",{type:"text",className:"form-control",onChange:e.onChange,value:e.answer})),r.a.createElement("nav",{className:"navbar fixed-bottom"},r.a.createElement("div",{className:"btn-group btn-group-lg multi-button"},r.a.createElement("button",{className:"btn btn-secondary",type:"submit"},"Submit"),r.a.createElement("button",{className:"btn btn-primary",onClick:e.goBack},"Go Back")))))}function x(e){return r.a.createElement("div",{className:"go-back"},r.a.createElement("div",null,"Would you like to see that again?"),r.a.createElement("nav",{className:"navbar fixed-bottom"},r.a.createElement("div",{className:"btn-group btn-group-lg multi-button"},r.a.createElement("button",{className:"btn btn-secondary",onClick:e.continue},"No"),r.a.createElement("button",{className:"btn btn-primary",onClick:e.goBack},"Yes"))))}function N(e){return e.word_alert?r.a.createElement("div",{className:"word-alert"},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Please make sure to enter a response and respect word limits")):null}var S=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={story_text:null,contexts:[],questions:[],context_number:0,question_number:0,answers:[],finished:!1,textInput:"",views:"[]",show_story:!1,show_context:!1,show_question:!1,show_response:!1,show_go_back:!1,word_alert:!1,timer:null,scrollTop:0,scroll_ups:0,scrolling_up:!1},a.csrftoken=b("csrftoken"),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api_proto/");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState(a[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"postData",value:function(){var e={story_text:this.state.story_text,student_responses:this.state.answers};console.log(JSON.stringify(e)),fetch("/api_proto/add-response/",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json","X-CSRFToken":this.csrftoken}}).then(function(e){return e.json()}).then(function(e){return console.log(JSON.stringify(e))}).catch(function(e){return console.log(e)})}},{key:"handleFormChange",value:function(e){this.setState({textInput:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var a=this.state.question_number,n=this.state.context_number,r=this.state.answers.slice(),s=this.state.textInput,i=this.state.views,o=this.state.questions[a].word_limit,l=this.state.finished,c=this.state.show_story,u=this.state.show_response,m=this.state.scroll_ups;if(t.validateSubmission(s,o)){var d={context:this.state.contexts[n],question:this.state.questions[a].text,response:s,views:i,scroll_ups:m};r.push(d),i="[]";var h=new g;m=0,a<this.state.questions.length-1?a+=1:n<this.state.contexts.length-1?(n+=1,a=0,c=!0):(l=!0,c=!1,u=!1),this.setState({question_number:a,context_number:n,answers:r,finished:l,textInput:"",show_story:c,show_response:u,views:i,word_alert:!1,timer:h,scroll_ups:m})}else this.setState({word_alert:!0})}},{key:"handleStartClick",value:function(){var e=new g;this.setState({show_story:!0,timer:e})}},{key:"storyButtonClick",value:function(){var e=JSON.parse(this.state.views),t=this.state.timer.stop();e.push(t);var a=JSON.stringify(e);this.setState({show_story:!1,show_context:!0,views:a})}},{key:"contextButtonClick",value:function(){this.setState({show_context:!1,show_question:!0})}},{key:"questionButtonClick",value:function(){this.setState({show_question:!1,show_go_back:!0})}},{key:"backButtonClick",value:function(){var e=new g;this.setState({show_go_back:!1,show_story:!0,show_response:!1,timer:e})}},{key:"continueButtonClick",value:function(){this.setState({show_go_back:!1,show_response:!0})}},{key:"render",value:function(){var e,t=this;return this.state.story_text?this.state.show_story?e=r.a.createElement(k,{story_text:this.state.story_text,onClick:function(){return t.storyButtonClick()},onScroll:function(e){t.setState(function(e,t,a,n){var r=e.target.scrollTop;return r<t&&!n?(a++,n=!0):r>t&&n&&(n=!1),t=r,console.log("We've scrolled! Scroll ups: ",a),{scroll_top:t,scroll_ups:a,scrolling_up:n}}(e,t.state))}}):this.state.show_context?e=r.a.createElement(j,{context:this.state.contexts[this.state.context_number],onClick:function(){return t.contextButtonClick()}}):this.state.show_go_back?e=r.a.createElement(x,{goBack:function(){return t.backButtonClick()},continue:function(){return t.continueButtonClick()}}):this.state.show_question?e=r.a.createElement(_,{question:this.state.questions[this.state.question_number].text,onClick:function(){return t.questionButtonClick()}}):this.state.show_response?e=r.a.createElement("div",null,r.a.createElement(N,{word_alert:this.state.word_alert}),r.a.createElement(O,{onSubmit:function(e){return t.handleSubmit(e)},onChange:function(e){return t.handleFormChange(e)},question:this.state.questions[this.state.question_number].text,answer:this.state.textInput,goBack:function(){return t.backButtonClick()}})):this.state.finished?(this.postData(),e=r.a.createElement("div",{className:"finished"},"Thank you for your time!")):e=r.a.createElement("div",{className:"start"},r.a.createElement("div",null,"Are you ready?"),r.a.createElement("nav",{className:"navbar fixed-bottom"},r.a.createElement("button",{className:"btn btn-primary btn-lg btn-block",onClick:function(){return t.handleStartClick()}},"Start!"))):e=null,e}}],[{key:"validateSubmission",value:function(e,t){return!!e&&e.trim().split(" ").length<=t}}]),t}(r.a.Component),C=a(7);a(25);function q(e){var t=e.student_responses.map(function(e){return r.a.createElement(R,{response:e,key:e.id})});return r.a.createElement("div",{className:"student"},r.a.createElement("div",{className:"student-number"},r.a.createElement("h1",null,"Student #",e.id)),r.a.createElement("div",null,r.a.createElement("h5",null,r.a.createElement("b",null,"Story: ")," ",e.story)),r.a.createElement("table",{className:"table striped bordered hover responsive"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Context")),r.a.createElement("td",null,r.a.createElement("b",null,"Question")),r.a.createElement("td",null,r.a.createElement("b",null,"Response")),r.a.createElement("td",null,r.a.createElement("b",null,"Views")),r.a.createElement("td",null,r.a.createElement("b",null,"Scrolls")))),r.a.createElement("tbody",null,t)))}function R(e){var t=e.response;return r.a.createElement("tr",null,r.a.createElement("td",null,t.context),r.a.createElement("td",null,t.question),r.a.createElement("td",null,t.response),r.a.createElement("td",null,t.views),r.a.createElement("td",null,t.scroll_ups))}function T(e){for(var t=e.students,a={},n=0;n<t.length;n++)for(var s=t[n].student_responses,i=0;i<s.length;i++){var o=s[i],l=o.question,c=o.context;if(c in a){var u=a[c];l in u?u[l].push([n,i]):u[l]=[[n,i]]}else a[c]={},a[c][l]=[[n,i]]}var m,d=[];for(var h in a)if(Object.prototype.hasOwnProperty.call(a,h)){var p=a[h];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(m="c"+String(h)+"q"+String(v),d.push(r.a.createElement(M,{context:h,question:v,indices:p[v],students:t,key:m})))}return r.a.createElement("div",{className:"question-view"},d)}var M=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.indices.map(function(t){return r.a.createElement(A,{student:e.props.students[t[0]],prompt_num:t[1],key:t[0]})});return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Context: ",this.props.context)),r.a.createElement("div",null,r.a.createElement("h2",null,"Question: ",this.props.question)),r.a.createElement("table",{className:"table striped bordered hover responsive"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Student")),r.a.createElement("td",null,r.a.createElement("b",null,"Response")),r.a.createElement("td",null,r.a.createElement("b",null,"Views")),r.a.createElement("td",null,r.a.createElement("b",null,"Scrolls")))),r.a.createElement("tbody",null,t)))}}]),t}(r.a.Component),A=function(e){function t(e){var a;Object(u.a)(this,t),a=Object(d.a)(this,Object(h.a)(t).call(this,e));var n=e.student.student_responses[e.prompt_num];return a.state={student:e.student,response:n.response,views:n.views,scroll_ups:n.scroll_ups},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,this.state.student.id),r.a.createElement("td",null,this.state.response),r.a.createElement("td",null,this.state.views),r.a.createElement("td",null,this.state.scroll_ups))}}]),t}(r.a.Component),I=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={students:[],loaded:!1,sortBy:"student"},a.handleChange=a.handleChange.bind(Object(C.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(C.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/add-response/");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),n=this.state.sortBy,this.setState({students:a,loaded:!0,sortBy:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){var t=this.state.students,a=this.state.loaded;this.setState({students:t,loaded:a,sortBy:e.target.value})}},{key:"handleChange",value:function(e){var t=this.state.students,a=this.state.loaded;this.setState({students:t,loaded:a,sortBy:e.target.value})}},{key:"render",value:function(){if(this.state.loaded){var e,t=this.state.students;if("story"===this.state.sortBy){t.sort(function(e,t){return function(e,t){return e.story.toLowerCase()>t.story.toLowerCase()?1:-1}(e,t)}),e=t.map(function(e){return r.a.createElement(q,{story:e.story,student_responses:e.student_responses,id:e.id,key:e.id})})}else e="question"===this.state.sortBy?r.a.createElement(T,{students:t}):t.map(function(e){return r.a.createElement(q,{story:e.story,student_responses:e.student_responses,id:e.id,key:e.id})});return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar fixed-top"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Sort by",r.a.createElement("select",{value:this.state.sortBy,onChange:this.handleChange},r.a.createElement("option",{value:"student"},"Student"),r.a.createElement("option",{value:"story"},"Story"),r.a.createElement("option",{value:"question"},"Question"))))),r.a.createElement("div",null,e))}return null}}]),t}(r.a.Component),D=a(9),P=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e;return e=void 0!==this.props.value&&void 0!==this.props.round_digits?this.props.value.toFixed(2):this.props.value,r.a.createElement("div",{className:"row"},r.a.createElement("strong",{className:"col-3"},this.props.header),r.a.createElement("p",{className:"col-9 mb-1 text-left d-block d-md-inline"},e," ",this.props.unit))}}]),t}(r.a.Component),B=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=(e=this.props.headers.length,Array.from(Array(e).keys()));return r.a.createElement("div",null,r.a.createElement("h3",{className:"mt-4"}," ",this.props.title," "),r.a.createElement("table",{className:"table analysis-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,this.props.headers.map(function(e,t){return r.a.createElement("th",{className:"p-2",key:t},e)})),this.props.data.map(function(e,a){return r.a.createElement("tr",{key:a},t.map(function(t,a){return r.a.createElement("td",{className:"p-2",key:a}," ",e[t]," ")}))}))))}}]),t}(r.a.Component),F=(r.a.Component,function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(B,{title:"Frequency Feelings",headers:["Word","Frequency"],data:this.props.feelings}))}}]),t}(r.a.Component)),H=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=Object.entries(this.props.viewTime).map(function(e){return[e[0],Math.round(1e3*e[1])/1e3]});return r.a.createElement("div",null,r.a.createElement(B,{title:"Mean View Times of Different Contexts",headers:["Context","Mean View Time (seconds)"],data:e}))}}]),t}(r.a.Component),Q=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P,{header:"Average Positivity Score",value:this.props.sentiment_average,round_digits:2}),r.a.createElement(P,{header:"Standard Deviation of Positivity Score",value:this.props.sentiment_std,round_digits:2}))}}]),t}(r.a.Component),W=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(B,{title:"Mean Reading Time for Questions",headers:["Question","Context","Mean time without outliers","Total number of readers"],data:this.props.mean_reading_times_for_questions})}}]),t}(r.a.Component),V=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(B,{title:"Mean Reread Counts for Questions and Context",headers:["Question","Context","Mean Reread Counts","Total number of readers"],data:this.props.run_compute_reread_counts})}}]),t}(r.a.Component),L=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"formatDataWithPercentSign",value:function(e){var t=[],a=!0,n=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var o=s.value,l=Object(D.a)(o,2),c=l[0],u=l[1];t.push([c,"".concat(Math.round(100*u),"%")])}}catch(m){n=!0,r=m}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return t}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.relevantWords,r.a.createElement(B,{title:"Percentage of Students Using Relevant Words",headers:["Question","Percentage"],data:this.formatDataWithPercentSign(this.props.entryData)}))}}]),t}(r.a.Component),J=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={analysis:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api_proto/analysis/");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({analysis:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(null!==this.state.analysis){var e=this.state.analysis,t=e.total_view_time,a=e.run_mean_reading_analysis_for_questions,n=e.frequency_feelings,s=e.context_vs_read_time,i=e.question_sentiment_analysis,o=e.compute_median_view_time,l=e.run_compute_reread_counts,c=e.compute_mean_response_length,u=e.percent_using_relevant_words_by_question;return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement("a",{className:"nav-link nav-item text-dark font-weight-bold",href:"#"},"Overview"),r.a.createElement("a",{className:"nav-link nav-item text-dark font-weight-bold",href:"#"},"Analysis"))),r.a.createElement("h1",{className:"text-center display-4 mb-4",id:"page-title"},"Analysis of Student Responses"),r.a.createElement(P,{header:"Total view time",value:t,unit:"seconds"}),r.a.createElement(P,{header:"Median view time",value:o,unit:"seconds"}),r.a.createElement(P,{header:"Mean response length",value:c,unit:"characters"}),r.a.createElement(Q,{sentiment_average:i[0],sentiment_std:i[1]}),r.a.createElement(W,{mean_reading_times_for_questions:a}),r.a.createElement(V,{run_compute_reread_counts:l}),r.a.createElement(F,{feelings:n}),r.a.createElement(H,{viewTime:s}),r.a.createElement(L,{entryData:u}))}return r.a.createElement("div",null,"Loading!")}}]),t}(r.a.Component),U={INSTRUCTIONS_NAME:0,READING:1,OVERVIEW:2},z=function(e){function t(e){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).call(this,e))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.text.split("\r\n");return r.a.createElement("div",{className:"segment",ref:this.props.segment_ref,onScroll:this.props.handleScroll,onMouseUp:this.props.handleSelectionDragEnd},e.map(function(e,t){return r.a.createElement("p",{className:"segment-text text-justify",key:t},e)}))}}]),t}(r.a.Component),G=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.evidenceModeState,a=t.active&&t.question_id===this.props.question.id&&t.is_document_question===this.props.is_document_question,n=this.props.response.evidence,s=this.props.response.response;return r.a.createElement("div",{className:"card mb-4"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"segment-question-text question-text"},this.props.question.text)),r.a.createElement("div",{className:"card-body"},r.a.createElement("textarea",{className:"form-control form-control-lg questions-boxes",rows:"4",onChange:this.props.handleResponseChange,value:s}),this.props.question.require_evidence&&r.a.createElement("div",{className:"evidence-section"},n&&n.length?r.a.createElement("div",{className:"evidence-values-section mt-1"},r.a.createElement("div",{className:"evidence-values"},n.map(function(t,a){return r.a.createElement("div",{className:"card card-body mb-3 evidence-value",key:a},'"'+t+'"',r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"remove-evidence-button",onClick:function(){return e.props.handleRemoveEvidence(e.props.is_document_question,e.props.question.id,a)}},"X")))}))):"",r.a.createElement("button",{className:"evidence-toggle-button",onClick:this.props.toggleAddEvidenceMode},a?"Stop Tagging":"Add Evidence"),a&&r.a.createElement("span",{className:"form-hint-text"},"Highlight parts of the text to save as evidence."))))}}]),t}(r.a.Component),Y=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.segment_num===this.props.document_segments.length-1&&this.props.rereading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},t?r.a.createElement("button",{className:"next-btn",onClick:function(){return e.props.toOverview()}},"To Overview"):r.a.createElement("button",{className:"next-btn",onClick:function(){return e.props.nextSegment()}},this.props.rereading?"Next":"Continue"))))}}]),t}(r.a.Component),X=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.question_and_response,t=e.question,a=e.response;return r.a.createElement("div",{className:"card mb-5"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"segment-question-text question-text"},t.text)),r.a.createElement("div",{className:"card-body"},a.response))}}]),t}(r.a.Component),K=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=[];this.props.all_segments.map(function(t){return e.push(t.text.split("\r\n"))}),console.log(this.props.reading_data);var t=this.props.reading_data.segment_data.filter(function(e){return e.is_rereading}),a=[],n=!0,s=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var c=o.value;a=a.concat(c.segment_responses)}}catch(j){s=!0,i=j}finally{try{n||null==l.return||l.return()}finally{if(s)throw i}}var u=[],m=!0,d=!1,h=void 0;try{for(var p,v=this.props.all_segments[Symbol.iterator]();!(m=(p=v.next()).done);m=!0){var f=p.value.questions;u=u.concat(f)}}catch(j){d=!0,h=j}finally{try{m||null==v.return||v.return()}finally{if(d)throw h}}var b=[],g=!0,y=!1,E=void 0;try{for(var w,_=function(){var e=w.value,t=u.find(function(t){return t.id===e.question});b.push({question:t,response:e})},k=a[Symbol.iterator]();!(g=(w=k.next()).done);g=!0)_()}catch(j){y=!0,E=j}finally{try{g||null==k.return||k.return()}finally{if(y)throw E}}return r.a.createElement("div",{className:"row overview-container"},r.a.createElement("div",{className:"col-12"},r.a.createElement("hr",null)),r.a.createElement("div",{className:"segment-container"},r.a.createElement("div",{className:"scroll-overview"},e.map(function(e){return e.map(function(e,t){return r.a.createElement("p",{className:"segment-text text-justify",key:t},e)})}))),r.a.createElement("div",{className:"questions-container"},r.a.createElement("p",null,"Thank you for participating! Here is a summary of your responses:"),b.map(function(e,t){return r.a.createElement(X,{key:t,question_and_response:e})}),r.a.createElement("button",{className:"next-btn",onClick:function(){return window.location.href="../project_overview"}},"Finish Reading")))}}]),t}(r.a.Component),Z=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"display-4 text-center mt-4 title"},"Instructions"),r.a.createElement("div",{className:"mb-5 instructions"},r.a.createElement("p",{id:"instructions-overview"},"Do a close reading of the text by following these steps: Read all five segments of the text one segment at a time, while answering questions for each segment along the way (including the two common questions that recur for each segment)."),r.a.createElement("ol",{id:"instructions-list"},r.a.createElement("li",null,"After you read through the whole segment, click the \u201cContinue\u201d button in order to access the questions for that particular segment."),r.a.createElement("li",null,"As often as you need to, scroll through the segment in order to provide an answer for each question posed for that segment."),r.a.createElement("li",null,"Provide evidence for questions that require evidence by clicking \u201cAdd Evidence,\u201d highlighting the words or passages from the segment you want to add, then clicking \u201cStop Tagging\u201d. Repeat this process as many times as there are other pieces of evidence from the segment you want to add."),r.a.createElement("li",null,"After you\u2019ve answered all questions and added evidence for a segment, click the \u201cNext\u201d button in order to access the next segment.")),r.a.createElement("h4",{className:"title"},"Enter your name or leave blank to remain anonymous"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{className:"form-control",type:"text",onChange:function(t){return e.props.handleStudentName(t)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn start-btn ",onClick:function(){return e.props.startReading()}},"Start Reading")))))}}]),t}(r.a.Component),$=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={current_view:U.INSTRUCTIONS_NAME,student_name:"",segment_num:0,timer:null,scroll_top:0,segments_viewed:[0],rereading:!1,document:null,reading_data:null,interval_timer:null,segmentQuestionNum:0,segmentResponseArray:[],documentResponseArray:[],evidenceModeState:{active:!1,question_id:0,is_document_question:!1},current_selection:""},a.scroll_data=[],a.csrftoken=b("csrftoken"),a.segment_ref=r.a.createRef(),a.allQuestionsAreCompleted=a.allQuestionsAreCompleted.bind(Object(C.a)(a)),a.nextSegment=a.nextSegment.bind(Object(C.a)(a)),a.toOverview=a.toOverview.bind(Object(C.a)(a)),a.buildQuestionFields=a.buildQuestionFields.bind(Object(C.a)(a)),a.startReading=a.startReading.bind(Object(C.a)(a)),a.handleStudentName=a.handleStudentName.bind(Object(C.a)(a)),a.toggleAddEvidenceMode=a.toggleAddEvidenceMode.bind(Object(C.a)(a)),a.handleResponseChange.bind(Object(C.a)(a)),a.handleRemoveEvidence.bind(Object(C.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"startReading",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a,n,r,s,i,o=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/api/documents/1/",t={name:this.state.student_name},e.next=5,fetch("/api/documents/1/",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json","X-CSRFToken":this.csrftoken}});case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,r=n.document,s=n.reading_data,i=setInterval(function(){return o.recordScroll()},1e3),this.setState({document:r,interval_timer:i,reading_data:s,current_view:U.READING}),this.sendData(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"sendData",value:function(){var e=Object(c.a)(l.a.mark(function e(t){var a,n,r,s,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=12;break}return a=this.state.timer.stop(),"/api/add-response/",n={reading_data_id:this.state.reading_data.id,segment_data:[{id:this.state.document.segments[this.state.segment_num].id,scroll_data:JSON.stringify(this.scroll_data),view_time:a,is_rereading:this.state.rereading,segment_responses:this.state.segmentResponseArray}],document_responses:this.state.documentResponseArray},e.next=6,fetch("/api/add-response/",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json","X-CSRFToken":this.csrftoken}});case 6:return r=e.sent,e.next=9,r.json();case 9:s=e.sent,this.scroll_data=[],this.setState({reading_data:s});case 12:i=new g,this.setState({timer:i});case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"recordScroll",value:function(){this.scroll_data.push(this.state.scroll_top)}},{key:"handleScroll",value:function(e){var t=e.target.scrollTop;this.setState({scroll_top:t})}},{key:"handleResponseChange",value:function(e,t,a){var n={response:a.target.value};e&&(n.response_segment=this.state.segment_num),this.updateResponseObject(e,t,n)}},{key:"getOrCreateResponseObjectAndArray",value:function(e,t){var a;a=e?this.state.documentResponseArray.slice():this.state.segmentResponseArray.slice();var n=null,r=!0,s=!1,i=void 0;try{for(var o,l=a[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var c=o.value;if(c.id===t){n=c;break}}}catch(u){s=!0,i=u}finally{try{r||null==l.return||l.return()}finally{if(s)throw i}}return null===n&&(n={id:t},a.push(n)),[n,a]}},{key:"updateResponseObject",value:function(e,t,a){var n=this.getOrCreateResponseObjectAndArray(e,t),r=Object(D.a)(n,2),s=r[0],i=r[1];Object.assign(s,a),e?this.setState({documentResponseArray:i}):this.setState({segmentResponseArray:i})}},{key:"allQuestionsAreCompleted",value:function(){var e=this.state.document,t=e.segments[this.state.segment_num].questions,a=e.document_questions,n=this.state.documentResponseArray,r=this.state.segmentResponseArray;if(n.length!==a.length||r.length!==t.length)return!1;var s=!0,i=!1,o=void 0;try{for(var l,c=function(){var e=l.value;return""===e.response.trim()?{v:!1}:!a.find(function(t){return t.id===e.id}).require_evidence||void 0!==e.evidence&&0!==e.evidence.length?void 0:{v:!1}},u=n[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var m=c();if("object"===typeof m)return m.v}}catch(y){i=!0,o=y}finally{try{s||null==u.return||u.return()}finally{if(i)throw o}}var d=!0,h=!1,p=void 0;try{for(var v,f=function(){var e=v.value;return""===e.response.trim()?{v:!1}:!t.find(function(t){return t.id===e.id}).require_evidence||void 0!==e.evidence&&0!==e.evidence.length?void 0:{v:!1}},b=r[Symbol.iterator]();!(d=(v=b.next()).done);d=!0){var g=f();if("object"===typeof g)return g.v}}catch(y){h=!0,p=y}finally{try{d||null==b.return||b.return()}finally{if(h)throw p}}return!0}},{key:"checkScrolledToBottom",value:function(){var e=this.segment_ref.current,t=e.scrollHeight-e.scrollTop;return!!(Math.abs(t-e.offsetHeight)<5)}},{key:"nextSegment",value:function(){if(this.state.rereading)this.gotoSegment(this.state.segment_num+1);else{if(!this.checkScrolledToBottom())return void alert("Please read and scroll to the bottom of the segment before moving on.");this.sendData(!1),this.segment_ref.current.scrollTo(0,0),this.setState({rereading:!0})}}},{key:"validateData",value:function(){return!!this.allQuestionsAreCompleted()||(alert("Please respond to every question and add evidence where indicated before moving on."),!1)}},{key:"gotoSegment",value:function(e){if(this.validateData()){this.sendData(!1),this.segment_ref.current.scrollTo(0,0);var t=this.state.segments_viewed.slice(),a=t.includes(e);t.push(e),this.setState({rereading:a,segments_viewed:t,segment_num:e,segmentQuestionNum:0,segmentResponseArray:[]})}}},{key:"toOverview",value:function(){this.validateData()&&(this.sendData(!1),this.setState({current_view:U.OVERVIEW}))}},{key:"toggleAddEvidenceMode",value:function(e,t){var a=this.state.evidenceModeState;if(a.active){if(a.is_document_question!==e||a.question_id!==t)return;""!==this.state.current_selection.toString()&&this.addEvidence(e,t)}a.active=!a.active,a.is_document_question=e,a.question_id=t,this.setState({evidenceModeState:a})}},{key:"handleSelectionDragEnd",value:function(){this.setState({current_selection:window.getSelection()})}},{key:"addEvidence",value:function(e,t){var a,n=this.state.current_selection.toString(),r=this.getOrCreateResponseObjectAndArray(e,t),s=Object(D.a)(r,2),i=s[0];s[1];void 0===i.evidence?a=[n]:(a=i.evidence.slice()).push(n);var o={evidence:a};this.updateResponseObject(e,t,o)}},{key:"handleRemoveEvidence",value:function(e,t,a){var n=this.getOrCreateResponseObjectAndArray(e,t),r=Object(D.a)(n,2),s=r[0],i=(r[1],s.evidence),o={evidence:i.slice(0,a).concat(i.slice(a+1))};this.updateResponseObject(e,t,o)}},{key:"buildQuestionFields",value:function(e,t){var a=this;return e.map(function(e,n){var s=a.getOrCreateResponseObjectAndArray(t,e.id),i=Object(D.a)(s,2),o=i[0];i[1];return r.a.createElement(G,{key:n,question:e,response:o,is_document_question:t,evidenceModeState:a.state.evidenceModeState,handleResponseChange:function(n){return a.handleResponseChange(t,e.id,n)},toggleAddEvidenceMode:function(){return a.toggleAddEvidenceMode(t,e.id)},handleRemoveEvidence:function(e,t,n){return a.handleRemoveEvidence(e,t,n)}})})}},{key:"handleStudentName",value:function(e){this.setState({student_name:e.target.value})}},{key:"render",value:function(){var e=this;if(this.state.current_view===U.INSTRUCTIONS_NAME)return r.a.createElement(Z,{handleStudentName:this.handleStudentName,startReading:this.startReading});var t=this.state.document;if(!t)return r.a.createElement("div",null,"Loading!");var a=t.segments[this.state.segment_num],n=a.questions,s=t.document_questions,i=this.buildQuestionFields(n,!1),o=this.buildQuestionFields(s,!0);return r.a.createElement("div",{className:"container background py-3"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col"},r.a.createElement("h1",{className:"display-4 title"},t.title," ",r.a.createElement("span",{className:"author"},"by ",t.author)))),this.state.current_view===U.OVERVIEW&&r.a.createElement(K,{all_segments:t.segments,reading_data:this.state.reading_data}),this.state.current_view===U.READING&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row text-and-questions"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",{className:"segment-num"},"Segment ",{1:"I - circa 1950s",2:"II - circa 1960s",3:"III - circa 1970s",4:"IV - circa 1970s",5:"V - circa 1980s"}[this.state.segment_num+1]),r.a.createElement("hr",null)),r.a.createElement("div",{className:"segment-container"},r.a.createElement(z,{text:a.text,handleScroll:function(t){return e.handleScroll(t)},segment_ref:this.segment_ref,handleSelectionDragEnd:function(){return e.handleSelectionDragEnd()}})),r.a.createElement("div",{className:"questions-container"},this.state.rereading&&i,this.state.rereading&&o,r.a.createElement(Y,{document_segments:t.segments,segment_num:this.state.segment_num,rereading:this.state.rereading,prevSegment:this.prevSegment,nextSegment:this.nextSegment,toOverview:this.toOverview})))))}}]),t}(r.a.Component),ee=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"text-center"},r.a.createElement("h5",{className:"body-text"},r.a.createElement("em",null,r.a.createElement("a",{href:"https://lit.mit.edu/people/salexandre/",className:"landing-top-link"},"Professor Sandy Alexandre")," and the",r.a.createElement("a",{href:"https://digitalhumanities.mit.edu",className:"landing-top-link"}," MIT Programs in Digital Humanities")," present")),r.a.createElement("h1",{id:"landing-header"},"The Reading Redux"),r.a.createElement("img",{src:"static/streshinsky_ted-girls_eating_lunch_at_school.jpg",className:"img-fluid"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn landing-btn col col-md-6",onClick:function(){return window.location.href="/project_overview"}},"Project Overview"),r.a.createElement("button",{className:"btn landing-btn col col-md-6",onClick:function(){return window.location.href="/reading"}},"Participate")))),r.a.createElement(y,null))}}]),t}(r.a.Component),te=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-md"},r.a.createElement("div",{className:"navbar-nav row mr-4"},r.a.createElement("h1",null,"The",r.a.createElement("br",null),"Reading",r.a.createElement("br",null),"Redux")),r.a.createElement("div",{className:"navbar-nav row"},r.a.createElement("a",{className:"nav-link nav-item text-dark",href:"/project_overview/"},"Project Overview"),r.a.createElement("a",{className:"nav-link nav-item text-dark",href:"/project_overview/sample/"},"The Reading Sample"),r.a.createElement("a",{className:"nav-link nav-item text-dark",href:"/project_overview/visuals/"},"Rereading Visuals"),r.a.createElement("a",{className:"nav-link nav-item text-dark",href:"/project_overview/values/"},"Rereading Values"),r.a.createElement("a",{className:"nav-link nav-item text-dark",href:"/project_overview/quantitative/"},"Quantitative Questions"),r.a.createElement("a",{className:"nav-link nav-item text-dark",href:"/project_overview/sources/"},"Sources"),r.a.createElement("a",{className:"nav-link nav-item text-dark",href:"/project_overview/writeups/"},"Student Reflections")))}}]),t}(r.a.Component),ae=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,null),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h1",null,this.props.subtitle),r.a.createElement("div",{className:"body-container"},this.props.content)))),r.a.createElement(y,null))}}]),t}(r.a.Component),ne=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"body-text"},"In literary studies we have a word to describe a novel that traces the psychological and moral growth of its protagonist. The word is ",r.a.createElement("em",null,"bildungsroman"),". But I think it is at once strange and unfortunate that we have no such word to describe a category of research or writing that traces the development of a real-life reader of a novel. This glaring lacuna might be a consequence of the fact that we just do not have that kind of data. That is, we do not know enough about if, how, or how much a reader evolves via each encounter with a text. In a time when it seems that bigots are getting bolder and louder all while basically insisting that they are surfeited with learning new things, which could actually help make them more tolerant (and tolerable) people, it is perhaps consoling to remember that human beings are in fact changeable. Reading is essential to galvanizing those human changes. This Digital Humanities project wants to affirm this claim by studying the effects of the practice of ",r.a.createElement("em",null,"re-reading")," a work of literature. The scope of the project includes, but is not limited to, an attempt to answer the following questions:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"If we can obtain data from a reader\u2019s re-reading of a text, then what might we learn about the intricacies of the interrelated processes of reading, understanding, and learning?")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"What can we discover about how exactly a reader is reading differently upon rereading a text?")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"How many re-readings and over the course of how long a period of time does it take to generate different meanings of one text? Is there a way to direct or expedite the process of readers making new meanings?")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"What are the various factors that motivate people to reread texts in the first place?")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"What are the kinds of literary texts most conducive to answering this project\u2019s questions? In other words, what are the texts that might be said to be especially rereading-friendly?")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"We might very well know something about the philosophical values of rereading, but what about its numeric values, particularly in terms of the various kinds of data it can generate as well as the computational analysis we can use to interpret the data?")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"When a reader\u2019s understanding of the meaning of a text changes over time, how can we attribute this change to how the reader has also changed over time\u2014whether with respect to age, mentality, political perspective, gender, etc.?"))),r.a.createElement("p",{className:"body-text"},"While reproducibility and repeatability are expectations required to verify the credibility of scientific experiments, the kind of repetition with a difference that I hope to study here underscores not only how different the Humanities is from the Sciences but also how the Humanities ",r.a.createElement("em",null,"needs")," to be different from scientific protocols in order to make clear that humanists value a changing human in an inevitably changing world. We fully expect that repeated readings will produce different responses and interpretations from readers. Indeed, we want that quality of changeability for readers. I envision this project being useful to students interested in learning how to generate and appreciate the values of rereading; to instructors who want and need to make the texts that they re-teach, year in and year out, \u201ccome alive\u201d not only for their students but also for themselves; to cognitive psychologists curious about the re-reading mind; to a general audience of readers eager to understand both the qualitative and quantitative uses of our encounters with literature."));return r.a.createElement(ae,{content:e,subtitle:"The Values of Rereading"})}}]),t}(r.a.Component),re=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("blockquote",{className:"blockquote card card-body"},r.a.createElement("p",{className:"mb-0"},r.a.createElement("q",null,"The only short story I have ever written, ",r.a.createElement("q",null,"Recitatif,")," was an experiment in the removal of all racial codes from a narrative about two characters of different races for whom racial identity is crucial.")),r.a.createElement("footer",{className:"blockquote-footer"},"Toni Morrison",r.a.createElement("br",null),r.a.createElement("strong",null,"Playing in the Dark: Whiteness and the Literary Imagination")," (1992)")),r.a.createElement("blockquote",{className:"blockquote card card-body"},r.a.createElement("p",{className:"mb-0"},r.a.createElement("q",null,"In order to survive, you should re-read Toni [Morrison] every ten years because every ten or fifteen years we have to reimagine ourselves on this American landscape. You won\u2019t survive if you don\u2019t do that.")),r.a.createElement("footer",{className:"blockquote-footer"},"Sonia Sanchez",r.a.createElement("br",null),r.a.createElement("strong",null,"Toni Morrison: The Pieces I Am")," (2019)")),r.a.createElement("p",{className:"body-text"},"Since the form that most of Toni Morrison\u2019s works of fiction take is the novel, her only published short story, which never developed into a full-blown novel, represents a special case. By the time of \u201cRecitatif\u201d\u2019s publication debut, Morrison had already published four of what would eventually be eleven of her known novels. \u201cRecitatif\u201d would have gone down in history as her only published short story were it not for the publication, in February 2015, of \u201cSweetness,\u201d an excerpt of her then upcoming novel ",r.a.createElement("em",null,"God Help the Child"),", which was released in April 2015. So, since it wouldn\u2019t be another thirty-two years before she wrote another \u201cshort story,\u201d Morrison, more than anyone, seems particularly aware of what a short story can do that a novel cannot. Morrison, more than anyone, knows that she can wield a short story, and more importantly, she knows precisely how! In the case of \u201cRecitatif,\u201d it is safe to say that she understood that the form ideally suited for the re-readings that this narrative experiment tacitly prescribes would have to be something shorter than novel length; it would have to be a short story. A short story is conducive to re-readings."),r.a.createElement("h4",null,"Why is \u201cRecitatif\u201d particularly appropriate for a project about re-rereading?"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"After completing a first reading of the story, the revelation about the narrative experiment encourages a rereading; it encourages readers to do a double take, as it were.")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"The short length and episodic structure\u2014neatly demarcated by five clearly different settings (or time frames)\u2014facilitate a rereading.")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"A story that effectively holds a mirror to our biases provides the reader the opportunity to confront the workings and retrace the trajectory of their reading self. The story encourages readers to ask: How are the conclusions we jump to about characters a direct reflection of how we read them\u2014i.e., of how we place them in a definite racial category in this particular case? How do our biases obstruct the quality and full potential of how we could read?")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"It is effectively a cautionary tale against speed reading and making quick judgments.")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"Because \u201cSweetness\u201d is not only a rival short story to some extent, but also shares a similar theme with \u201cRecitatif\u201d (of fraught mother-daughter relations), its existence as\u2014more or less\u2014a foil to \u201cRecitatif\u201d also encourages a re-reading of \u201cRecitatif.\u201d In other words, its very existence in her oeuvre can\u2019t help but compel us to ask the question: What, if anything, does this new short story have to do with Morrison\u2019s ",r.a.createElement("em",null,"ur"),"-short story?")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"As narrative time passes, the story\u2019s two main characters, Roberta and Twyla\u2014one of whom is the narrator\u2014forget important details about a third main character, Maggie, as well as a childhood incident involving Maggie. Such memory lapses suggest their unreliability as the tellers of Maggie\u2019s story and of the story of \u201cRecitatif\u201d itself, which puts the onus on the reader to be a more careful reader than they otherwise would have needed to be."))));return r.a.createElement(ae,{content:e,subtitle:"The Reading Sample: Recitatif"})}}]),t}(r.a.Component),se=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"How does one represent a reader\u2019s multiple readings of one text?"),r.a.createElement("h3",null,"How does one visualize a reader\u2019s re-readings?"));return r.a.createElement(ae,{content:e,subtitle:"Rereading Visuals"})}}]),t}(r.a.Component),ie=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"What are the numbers and statistics saying about rereading?"));return r.a.createElement(ae,{content:e,subtitle:"Rereading Values"})}}]),t}(r.a.Component),oe=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Since this story is an intentionally calculated attempt at crafting a very particular experience of reading, it prompts the question: What is the recipe for this narrative experiment\u2019s success? Or, what exactly is the formula for this particular reading experience?"),r.a.createElement("p",null,"So, here are some quantitative questions \u201cRecitatif\u201d raises:"),r.a.createElement("ol",null,r.a.createElement("li",null,"How many stereotypical assumptions about racial identity constitute enough plausibility to keep the story going without arousing suspicion in the reader about the story\u2019s intentions?"),r.a.createElement("li",null,"What did Toni Morrison determine is the word-count threshold for such a narrative experiment? (In other words, not only did Morrison determine it had to be a short story but that it also had to be a very specific length.)"),r.a.createElement("li",null,"How long can a writer sustain such a ruse? (In other words, what is the final length of the short story Morrison decided on after her own edits? *See Toni Morrison Papers.)"),r.a.createElement("li",null,"How does the story\u2019s structure of five \u201cacts\u201d help distract the reader from the story\u2019s motives?"),r.a.createElement("li",null,"How is editing a form of linear optimization, and how can linear optimization be applied to visualize Morrison\u2019s editing process, which has resulted in the final version of the narrative structure and design of \u201cRecitatif\u201d available to readers since its publication in 1983?"),r.a.createElement("li",null,"How do the story\u2019s narrated time and narrative time contribute to the story\u2019s plausibility?",r.a.createElement("br",null),r.a.createElement("u",null,"Narrated time"),": period of time covered by the narrative; the period of time during which the narrative is set.",r.a.createElement("br",null),r.a.createElement("u",null,"Narrative time"),": temporal structure of the narrative.")));return r.a.createElement(ae,{content:e,subtitle:"Quantitative Questions"})}}]),t}(r.a.Component),le=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"Gavin, Michael. \u201cVector Semantics, William Empson, and the Study of Ambiguity,\u201d ",r.a.createElement("em",null,"Critical Inquiry 44"),", Summer 2018.")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"Morrison, Toni. ",r.a.createElement("em",null,"Playing in the Dark: Whiteness and the Literary Imagination"),". Cambridge, MA: Harvard University Press, 1992. pp. xi.")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"Morrison, Toni. \u201cRecitatif.\u201d ",r.a.createElement("em",null,"Confirmation: An Anthology of African American Women"),", edited by Amiri Baraka (LeRoi Jones) and Amina Baraka. New York: Quill, 1983. pp. 243-261.")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"Morrison, Toni. ",r.a.createElement("em",null,"Remember: The Journey to School Integration"),". New York: Houghton Mifflin Company, 2004.")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.newyorker.com/magazine/ 2015/02/09/sweetness-2"},r.a.createElement("div",{className:"bullet-text"},"Morrison, Toni. \u201cSweetness,\u201d",r.a.createElement("em",null,"The New Yorker"),", February 2, 2015."))),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"Richard, I. A. \u201cIntroductory.\u201d ",r.a.createElement("em",null,"Practical Criticism: A Study of Literary Judgment"),". San Diego, New York, London: Harcourt Brace Jovanovich, 1962. pp. 3-16.")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},"Spacks, Patricia Meyer. ",r.a.createElement("em",null,"On Rereading"),". Cambridge, Mass.: Belknap Press of Harvard University Press, 2011.")),r.a.createElement("li",null,r.a.createElement("div",{className:"bullet-text"},r.a.createElement("em",null,"Toni Morrison: The Pieces I am"),". Directed by Timothy Greenfield-Sanders, Magnolia Pictures, 2019."))));return r.a.createElement(ae,{content:e,subtitle:"Sources"})}}]),t}(r.a.Component),ce=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={writeups:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/writeups/",e.next=3,fetch("/api/writeups/",{headers:{"Content-type":"application/json","X-CSRFToken":this.csrftoken}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({writeups:a});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render_one_writeup",value:function(e,t){var a;return r.a.createElement("div",{key:t,className:"card mb-4"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",null,e.title," ",""!==e.title&&"by"," ",e.author)),r.a.createElement("div",{className:"card-body",dangerouslySetInnerHTML:(a=e.text,{__html:a})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(r.a.Fragment,null,this.state.writeups&&this.state.writeups.map(function(t,a){return e.render_one_writeup(t,a)}));return r.a.createElement(ae,{content:t,subtitle:"Student Reflections"})}}]),t}(r.a.Component),ue=a(13);function me(e,t){var a=e,n=Math.floor(a/3600);a%=3600;for(var r=Math.floor(a/60),s=a%=60,i="",o=0,l=[de(n,"hour"),de(r,"minute"),de(s,"second",t)];o<l.length;o++){var c=l[o];""!==c&&(i+=c+" ")}return""===(i=i.trim())?"0 seconds":i}function de(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(0===(a=void 0!==n?e.toFixed(n):e))return"";var r="".concat(a," ").concat(t);return 1!==e&&(r+="s"),r}var he=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(P,{header:this.props.header,value:me(this.props.time_in_seconds,this.props.round_digits),unit:""})}}]),t}(r.a.Component),pe=function(e,t){var a=e.split(" \u2014 "),n=t.split(" \u2014 ");return parseInt(a[1])-parseInt(n[1])},ve=function(e,t){for(var a=0,n=[],r=0;r<e.length;r++){var s=parseInt(e[r].split(" \u2014 ")[1]);s===a+500?(a=s,n.push(e[r])):t&&delete t[e[r]]}return n},fe=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).documents=[];for(var n=Object.keys(a.props.data),r=0;r<n.length;r++){var s=n[r].split(" ")[0];a.documents.includes(s)||a.documents.push(s)}return a.state={document:null,current_document:a.documents[0],segment_num:1},a.handleSegmentChange=a.handleSegmentChange.bind(Object(C.a)(a)),a.handleDocumentChange=a.handleDocumentChange.bind(Object(C.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/documents/1/");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({document:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleSegmentChange",value:function(e){this.setState({segment_num:e.target.value})}},{key:"handleDocumentChange",value:function(e){this.setState({current_document:e.target.value})}},{key:"render",value:function(){var e=this;if(!this.state.document)return r.a.createElement("div",null,"Loading!");var t=this.props.data[this.state.current_document+" "+this.state.segment_num],a=t.reading;Object.keys(t.reading).length<Object.keys(t.rereading).length&&(a=t.rereading);var n=Object.keys(a);n.sort(pe),n=ve(n);var s,i=Object.keys(this.props.data).length,o=(s=i+1,Array.from(Array(s).keys())).slice(1);return r.a.createElement("div",null,r.a.createElement("h3",{className:"mt-4"},"Heat Map for \xa0",r.a.createElement("select",{value:this.state.current_document,className:"segment-selector",onChange:function(t){return e.handleDocumentChange(t)}},this.documents.map(function(t,a){return r.a.createElement("option",{key:t,value:e.documents[a]},e.documents[a])}))),"Segment Number: \xa0",r.a.createElement("select",{value:this.state.segment_num,className:"segment-selector",onChange:function(t){return e.handleSegmentChange(t)}},o.map(function(e,t){return r.a.createElement("option",{key:e,value:o[t]},o[t])})),r.a.createElement("table",{className:"table analysis-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Scroll Position"),r.a.createElement("th",null,"Reading (seconds)"),r.a.createElement("th",null,"Rereading (seconds)")),n.map(function(e,a){return a=n[a],r.a.createElement("tr",{key:e},r.a.createElement("th",{className:"p-3"},a),r.a.createElement("td",{className:"p-3"},t.reading[a]),r.a.createElement("td",{className:"p-3"},t.rereading[a]))}))),r.a.createElement(be,{heatMap:t,text:this.state.document.segments[this.state.segment_num-1].text,segmentNum:1}))}}]),t}(r.a.Component),be=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={readType:"reading",finalHeight:500},a.segment_ref=r.a.createRef(),a.handleReadingChange=a.handleReadingChange.bind(Object(C.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleReadingChange",value:function(e){this.setState({readType:e.target.value})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this.segment_ref.current.scrollHeight,r=this.props.heatMap[this.state.readType],s=Object.keys(r);s.sort(pe);var i=s[s.length-1],o=500+n-parseInt(i.split(" \u2014 ")[1]);this.state.finalHeight!==o&&this.setState({finalHeight:o})}},{key:"componentDidMount",value:function(){this.setState({readType:"reading"})}},{key:"render",value:function(){var e=this,t=this.props.text.split("\r\n"),a=this.props.heatMap[this.state.readType],n=Object.keys(a);n.sort(pe);var s=(n=ve(n,a))[n.length-1],i=Math.max.apply(Math,Object(ue.a)(Object.values(a))),o=Object.keys(a).map(function(e){return{start:e.split(" \u2014 ")[0],percentage:.6*a[e]/i,range:e}});return r.a.createElement("div",null,"This is the heat map for: \xa0",r.a.createElement("select",{value:this.state.readType,className:"segment-selector",onChange:function(t){return e.handleReadingChange(t)}},r.a.createElement("option",{value:"reading"},"reading"),r.a.createElement("option",{value:"rereading"},"rereading")),r.a.createElement("div",{className:"segment",ref:this.segment_ref},t.map(function(e,t){return r.a.createElement("p",{className:"segment-text text-justify",key:t},e)}),o.map(function(t,a){return r.a.createElement("div",{style:{position:"absolute",height:t.range===s?e.state.finalHeight+"px":"500px",width:"593px",top:t.start+"px",backgroundColor:"rgba(255, 0, 0,"+t.percentage+")",zIndex:-1},key:a})})))}}]),t}(r.a.Component),ge=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={analysis:null,document:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/analysis/");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({analysis:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(null===this.state.analysis)return r.a.createElement(E,null);var e=this.state.analysis,t=e.total_and_median_view_time,a=e.mean_reading_vs_rereading_time,n=e.get_number_of_unique_students,s=e.percent_using_relevant_words_by_question,i=e.get_all_heat_maps,o=e.all_responses,l=e.most_common_words_by_question,c=o.sort(function(e,t){var a=e[0],n=e[1],r=t[0],s=t[1];return a===r?n<s?-1:1:a<r?-1:1});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-center display-4 mb-4",id:"page-title"},"Analysis of Student Responses"),r.a.createElement(he,{header:"Total view time",time_in_seconds:t[0]}),r.a.createElement(he,{header:"Median view time",time_in_seconds:t[1]}),r.a.createElement(he,{header:"Mean reading view time",time_in_seconds:a[0]}),r.a.createElement(he,{header:"Mean rereading view time",time_in_seconds:a[1]}),r.a.createElement(P,{header:"Number of Unique Students",value:n,unit:"students"}),r.a.createElement(fe,{data:i}),r.a.createElement(L,{words:s[0],entryData:s[1]}),r.a.createElement(B,{title:"Top Words by Question",headers:["Segment Number","Question Number","Question Text","Top Words"],data:l}),r.a.createElement(B,{title:"All Student Responses",headers:["Segment Number","Question Number","Question Text","Response","Evidence"],data:c})),r.a.createElement(y,null))}}]),t}(r.a.Component);window.app_modules={React:r.a,ReactDOM:i.a,ReadingView:$,AnalysisView:ge,ReadingRedux:ne,RereadingSample:re,RereadingVisuals:se,RereadingValues:ie,QuantitativeQuestions:oe,Sources:le,Writeups:ce,LandingPageView:ee,PrototypeAnalysisView:J,PrototypeStudentView:S,PrototypeInstructorView:I}}},[[14,1,2]]]);
//# sourceMappingURL=main.2de0589c.chunk.js.map